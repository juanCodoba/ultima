<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <ui:composition template="/template/plantilla.xhtml">
        <ui:define name="menu">
            <h:form id="menu-principal">
                <ul class="sidebar-menu">
                    <h:panelGroup rendered="#{loginController.adminCalidoso}">
                        <li class="header letra-menu"><h4>MENU DE ADMINISTRACIÓN</h4></li>

                        <!-- Optionally, you can add icons to the links -->

                        <li style="margin-top: 20px" class="active">
                            <h:commandLink action="/administrador/modPestel/list">
                                <i class="fa fa-dashboard"></i> 
                                <span>Principal</span>
                            </h:commandLink>
                        </li>


                        <li jsf:rendered="#{loginController.adminCalidad || loginController.adminCalidoso ||loginController.admin || loginController.jefe}">
                            <h:commandLink   action="#{factorController.prepareCreate()}">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                                <span>Genera tu matriz</span>
                            </h:commandLink> 
                        </li>

                        <li jsf:rendered="#{loginController.adminCalidad || loginController.adminCalidoso ||loginController.admin || loginController.jefe}" >
                            <h:commandLink   action="#{factorController.prepareAspectoGlobal()}" actionListener="#{factorController.listarGlobal()}" >
                                <i class="fa fa-file" aria-hidden="true"></i>
                                <span>Matriz Global</span>
                            </h:commandLink> 
                        </li>


                        <li>
                            <h:commandLink action="/usuario/modulos">
                                <i class="fa fa-th"></i>
                                <span>Modulos del sistema</span>
                            </h:commandLink>
                        </li>



                    </h:panelGroup>

                </ul>
            </h:form>
        </ui:define>
        <ui:define name="title">Ver Matriz global</ui:define>        
        <ui:define name="body">
            <h:form id="formulario-crearCargo">
                <p:growl id="msgs" />
                <h:outputText class="help-block" value="Ver Mayor concentración:"/>
                <div class="panel panel-primary">

                    <div class="panel panel-primary form-group"  style="border-radius: 0;margin-bottom: 5em">
                        <div class="panel-heading"  style="border-radius: 0; "><h4 class="letra-panelDescriEdu">Factores Econimicos mediante el analisis pestal </h4></div>
                        <div class="panel-body">
                            <h4>Factores del proceso</h4>
                            <p:dataTable id="tablaFuncion" class="table table-striped table-bordered"
                                         value="#{factorController.listreGlo}" emptyMessage="No se encontraron registros"
                                         var="factor"  >
                                <p:column width="60" headerText="ID Factor">
                                    <h:outputText value="#{factor.idFactor}-PESTEL"/>
                                </p:column>
                                <p:column width="60" headerText="Categoria">
                                    <h:outputText value="#{factor.idCategoria.nombreCategoria}"/>
                                </p:column>
                                <p:column width="110" headerText="Situación">
                                    <h:outputText value="#{factor.idItemSituacion.descripcion}"/>
                                </p:column>

                                <p:column width="60" headerText="Oportunidad">
                                    <h:outputText value="#{factor.idOportunidad.descOprtunidad}"/>
                                </p:column>
                                <p:column width="60" headerText="Riesgo">
                                    <h:outputText value="#{factor.idRiesgo.descripcionRiesgo}"/>
                                </p:column>
                                <p:column width="60" headerText="Importancia">
                                    <h:outputText value="#{factor.idImportancia.descripcionImportancia}"/>
                                </p:column>

                                <p:column width="110" headerText="Descripcion del factor">
                                    <h:outputText value="#{factor.descripcionFactor}"/>
                                </p:column>
                                <p:column width="60" headerText="Proceso">
                                    <h:outputText value="#{factor.idProceso.nombreProceso}"/>
                                </p:column>
                                <p:column width="60" headerText="Puntuación">
                                    <h:outputText value="#{factor.puntuacion}"/>
                                </p:column>


                            </p:dataTable> 
                        </div>
                    </div>

                    <div class="panel panel-primary form-group"  style="border-radius: 0;margin-bottom: 5em">
                        <div class="panel-heading"  style="border-radius: 0; "><h4 class="letra-panelDescriEdu">Factores Sociales mediante el analisis pestel </h4></div>
                        <div class="panel-body">
                            <h4>Factores del proceso</h4>

                            <p:dataTable id="tablaFuncion2" class="table table-striped table-bordered"
                                         value="#{factorController.listreGlo2}" emptyMessage="No se encontraron registros"
                                         var="factor"  >
                                <p:column width="60" headerText="ID Factor">
                                    <h:outputText value="#{factor.idFactor}-PESTEL"/>
                                </p:column>
                                <p:column width="60" headerText="Categoria">
                                    <h:outputText value="#{factor.idCategoria.nombreCategoria}"/>
                                </p:column>
                                <p:column width="110" headerText="Situación">
                                    <h:outputText value="#{factor.idItemSituacion.descripcion}"/>
                                </p:column>

                                <p:column width="60" headerText="Oportunidad">
                                    <h:outputText value="#{factor.idOportunidad.descOprtunidad}"/>
                                </p:column>
                                <p:column width="60" headerText="Riesgo">
                                    <h:outputText value="#{factor.idRiesgo.descripcionRiesgo}"/>
                                </p:column>
                                <p:column width="60" headerText="Importancia">
                                    <h:outputText value="#{factor.idImportancia.descripcionImportancia}"/>
                                </p:column>

                                <p:column width="110" headerText="Descripcion del factor">
                                    <h:outputText value="#{factor.descripcionFactor}"/>
                                </p:column>
                                <p:column width="60" headerText="Proceso">
                                    <h:outputText value="#{factor.idProceso.nombreProceso}"/>
                                </p:column>
                                <p:column width="60" headerText="Puntuación">
                                    <h:outputText value="#{factor.puntuacion}"/>
                                </p:column>

                            </p:dataTable> 
                        </div>
                    </div>

                    <div class="panel panel-primary form-group"  style="border-radius: 0;margin-bottom: 5em">
                        <div class="panel-heading"  style="border-radius: 0; "><h4 class="letra-panelDescriEdu">Factores Tecnologicos mediante el analisis pestel </h4></div>
                        <div class="panel-body">
                            <h4>Factores del proceso</h4>
                            <p:dataTable id="tablaFuncion3" class="table table-striped table-bordered"
                                         value="#{factorController.listreGlo3}" emptyMessage="No se encontraron registros"
                                         var="factor"  >
                                <p:column width="60" headerText="ID Factor">
                                    <h:outputText value="#{factor.idFactor}-PESTEL"/>
                                </p:column>
                                <p:column width="60" headerText="Categoria">
                                    <h:outputText value="#{factor.idCategoria.nombreCategoria}"/>
                                </p:column>
                                <p:column width="110" headerText="Situación">
                                    <h:outputText value="#{factor.idItemSituacion.descripcion}"/>
                                </p:column>

                                <p:column width="60" headerText="Oportunidad">
                                    <h:outputText value="#{factor.idOportunidad.descOprtunidad}"/>
                                </p:column>
                                <p:column width="60" headerText="Riesgo">
                                    <h:outputText value="#{factor.idRiesgo.descripcionRiesgo}"/>
                                </p:column>
                                <p:column width="60" headerText="Importancia">
                                    <h:outputText value="#{factor.idImportancia.descripcionImportancia}"/>
                                </p:column>

                                <p:column width="110" headerText="Descripcion del factor">
                                    <h:outputText value="#{factor.descripcionFactor}"/>
                                </p:column>
                                <p:column width="60" headerText="Proceso">
                                    <h:outputText value="#{factor.idProceso.nombreProceso}"/>
                                </p:column>
                                <p:column width="60" headerText="Puntuación">
                                    <h:outputText value="#{factor.puntuacion}"/>
                                </p:column>


                            </p:dataTable> 
                        </div>
                    </div>

                    <div class="col-md-12" style="margin-bottom: 7%">

                        <h:panelGroup id="panel" layout="block">

                            <div class="col-sm-12" style="position: relative; left: 25%;margin-top: -3%; margin-bottom:  3%">
                                <img class="img-responsive" src="../../../resources/images/clasificacion.jpg" alt="raci"/>
                            </div>
                            <div class="col-sm-12" >
                                <p:chart type="bar" model="#{factorController.horizontalBarChartModelGlobal}" style="width:100%; height: 350px" />

                            </div>
                            <div class="col-sm-12">
                                <p:chart type="bar" model="#{factorController.horizontalBarChartModelItemGlobal}" style="width:100%; height: 350px" />

                            </div>
                            <div class="col-sm-12">
                                <p:chart type="pie" model="#{factorController.pieModelGlobal}" style="width: 100%; height: 500px" />

                            </div>

                            <script>

                                function removeLegend()
                                {
                                    this.cfg.legend = {
                                        show: false
                                    };
                                }
                            </script>

                        </h:panelGroup>   


                    </div>




                    <div class="row">

                        <div class="container-fluid col-sm-4 form-group" style="position: relative;left: 30%">
                            <h:button class="btn btn-orange btn-block" 
                                      value="Volver" 
                                      outcome="list"> 
                            </h:button >
                        </div>

                    </div>
                </div>
            </h:form>







        </ui:define>
    </ui:composition>
</html>
