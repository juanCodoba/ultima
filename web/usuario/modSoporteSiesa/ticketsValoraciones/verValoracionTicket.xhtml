<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
      <ui:composition template="/template/plantilla.xhtml">
       <ui:define name="title">Valoración del ticket # #{reporteSiesaController.reporteSiesaActual.idReporteSiesa}#CFIPERP</ui:define> 
       
        <ui:define name="body">
            <h:form id="form">
                <div class="row">
                    <div class="col-md-7">
                        <div class="form-group">
                            <h:outputLabel class="col-md-5 help-block" value="Tipo de fallo"/>
                            <div class="form-control-static">
                                <h:outputLabel value="#{reporteSiesaController.reporteSiesaActual.idTipoError.nombreError.toUpperCase()}" style="font-weight: bold" />
                            </div>
                        </div>
                         <div class="form-group">
                            <h:outputLabel class="col-md-5 help-block" value="Usuario que reporto el problema:"/>
                            <div class="form-control-static">
                                <h:outputLabel value="#{reporteSiesaController.reporteSiesaActual.idUsuario.toString()}" style="font-weight: bold" />
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <p:button icon="fa fa-arrow-left"
                                value="Volver pagina principal" 
                                style="font-size: 1em !important; padding: 5px; left: 0"
                                outcome="/usuario/modSoporteSiesa/paginaPrincipal"/>
                    </div>
                </div>

                   <div class="panel panel-primary">
                    <div class="panel-heading">
                          <h3 class="panel-title">Tu opinión sobre el servicio recibido</h3>
                    </div>

                    <div class="panel-body">
                            <div class="form-group">
                            <div class="form-control-static">
                                <h:outputLabel value="#{reporteSiesaController.reporteSiesaActual.descripcionValoracion}" style="font-weight: bold" />
                            </div>
                        </div>
                        <div class="form-group"  style=" background: gray; border-radius: .5em; border: 1px solid lightgrey ">
                            <div class="input-group" style="padding: 1em">
                                <h:outputLabel style="color: white" value="Valoracion:" />
                                <p:rating readonly="true" value="#{reporteSiesaController.reporteSiesaActual.valoracion}"  stars="5" cancel="false"  >
                                </p:rating>
                            </div>
                        </div>
                    </div>
                    <div class="panel-footer" style="padding-bottom: 2em">

                    </div>
                </div>



                <div class="row">
                    <p:overlayPanel widgetVar="pantallazo" showEffect="fade" hideEffect="fade" dismissable="true"  >
                        <p:outputPanel id="carDetail" style="text-align:center;">
                            <p:graphicImage style=" width: 100%; height: 100%" id="pantallazo" value="#{reporteSiesaController.reporteSiesaActual.imagen}" />                                  
                        </p:outputPanel>
                    </p:overlayPanel>
                </div>


                <p:dataTable id="tbl" class="form-group" value="#{reporteSiesaController.listaDiagnosticoTicket}" var="diagnostico" emptyMessage="No se ha diagnosticado el reporte">
                    <p:column headerText="Datos del diagnostico que realiso el tecnico">
                        <div class="row">
                            <div class="col-md-4">
                                  <p:graphicImage id="photo" name="images/robot.jpg" height="290" width="270"/>    
                            </div>
                            <div class="col-md-7" style="margin-top: 3em">
                                <div class="form-group row">
                                    <div class="col-md-5">
                                        <h:outputLabel class="help-block" value="Codigo del diagnostico:"/>
                                    </div>
                                    <div class="col-md-7 form-control-static">
                                        <h:outputLabel value="#{diagnostico.idDiagnosticoReporteSiesa}CFIPDIAG-E" style="font-weight: bold" />
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-md-5">
                                        <h:outputLabel class="help-block" value="Fallo reportado:" />
                                    </div>
                                    <div class="col-md-7 form-control-static"> 
                                        <h:outputText value="#{diagnostico.idReporteSiesa.descripcionReporte}" style="font-weight: bold"/>         
                                    </div>
                                </div> 

                                <div class="form-group row">
                                    <div class="col-md-5">
                                        <h:outputLabel class="help-block" value="Fecha de Revisión:" />
                                    </div>
                                    <div class="col-md-7 form-control-static">   
                                        <h:outputText value="#{diagnostico.fechaRevision}" style="font-weight: bold">
                                            <f:convertDateTime pattern="MMMM dd, yyyy"/>
                                        </h:outputText>
                                    </div> 
                                </div>

                                <div class="form-group row">
                                    <div class="col-md-5">
                                        <h:outputLabel class="help-block" value="Revisión:" />
                                    </div>
                                    <div class="col-md-7 form-control-static"> 
                                        <h:outputText value="#{diagnostico.revision}" style="font-weight: bold"/>         
                                    </div>
                                </div> 
                                <div class="form-group row">
                                    <div class="col-md-5">
                                        <h:outputLabel class="help-block" value="Fecha del Entrega del equipo:" />
                                    </div>
                                    <div class="col-md-7 form-control-static"> 
                                        <h:outputText value="#{diagnostico.fechaDiagnostico}" style="font-weight: bold">
                                            <f:convertDateTime pattern="MMMM dd, yyyy"/>
                                        </h:outputText>
                                    </div> 
                                </div> 
                                <div class="form-group row">
                                    <div class="col-md-5">
                                        <h:outputLabel class="help-block" value="Diagnostico:"/>
                                    </div>
                                    <div class="col-md-7 form-control-static"> 
                                        <h:outputText value="#{diagnostico.diagnostico}" style="font-weight: bold"/>
                                    </div> 
                                </div> 
                                 <div class="form-group row">
                                    <div class="col-md-5">
                                        <h:outputLabel class="help-block" value="Captura de pantalla:"/>
                                    </div>
                                    <div class="col-md-7"> 
                                        <p:commandButton  update=":form:carDetail" onclick="PF('pantallazo').show()" icon="ui-icon-image" value="Ver imagen">
                                            <f:setPropertyActionListener value="#{diagnostico}" target="#{reporteSiesaController.reporteSiesaActual}" />
                                        </p:commandButton>

                                    </div> 
                                </div>

                                <div class="form-group row">
                                    <div class="col-md-5">
                                        <h:outputLabel class="help-block" value="Técnico que atendió el caso:"/>
                                    </div>
                                    <div class="col-md-7 form-control-static"> 
                                        <h:outputText value="#{diagnostico.idUsuario.toString()}" style="font-weight: bold"/>
                                    </div> 
                                </div> 
                            </div>
                        </div>
                    </p:column>
                </p:dataTable>
            </h:form>
        </ui:define>
    </ui:composition>
</html>
