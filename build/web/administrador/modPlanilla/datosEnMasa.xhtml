<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <ui:composition template="/template/plantilla.xhtml">
        <ui:define name="title">Datos de planilla </ui:define>        
        <ui:define name="body">
            <h:form id="formCreateVehiculo">
                <div class="col-md-12 form-group">
                    <div class="form-group">
                        <span>Exporta tu archivo excel aqui para conjunto de OPÂ´s</span>
                    </div>
                    <p:scrollPanel mode = "native" style = "max-height: 700px">
                        <h:panelGroup id="itemsGroup">
                            <div class="col-md-12 form-group">
                                <div class="form-group">
                                    <h:outputLabel value="Cargar ficha bordado:"/>
                                    <p:fileUpload cancelLabel="Cancelar" 
                                                  uploadLabel="Cargar imagen"
                                                  auto="true"
                                                  label="Examinar"
                                                  mode="advanced" 
                                                  allowTypes="/(\.|\/)(xls)$/" 
                                                  sizeLimit="800000"
                                                  fileUploadListener="#{planillaController.cargarFichaProduccion}" id="fichaB"
                                                  process="@this"
                                                  converterMessage="proceso terminado"
                                                  />
                                    <p:message id="fichaBMessage" for="fichaB"/>
                                </div>
                                <div class="col-md-6">
                                    <h:commandButton styleClass="boton-prime" 
                                                     action="#{planillaController.addArchivo()}" 

                                                     value="Editar">
                                        <f:ajax execute="@this fichaB"
                                                render=":formCreateVehiculo:itemsGroup"
                                                />
                                    </h:commandButton>
                                </div>
                                <div class="col-md-6">

                                    <h:commandButton styleClass="boton-prime" 
                                                     action="#{planillaController.leerArchivo()}" 
                                                     value="Editar">
                                            <f:ajax execute="@this "
                                                />
                                    </h:commandButton>
                                </div>

                            </div>
                        </h:panelGroup>
                    </p:scrollPanel>

                </div>
                <div class="col-md-12 form-group">
                    <p:commandButton styleClass="btn btn-danger btn-block" 
                                     value="Cerrar" 
                                     oncomplete="PF('dlg2').hide();"
                                     process="@this"/>
                </div>
            </h:form>








        </ui:define>
    </ui:composition>
</html>


